# LLM Provider Selection
LLM_PROVIDER=huggingface  # Options: nvidia, huggingface

# STT Provider Selection
STT_PROVIDER=moonshine  # Options: nvidia, moonshine

# Moonshine STT Settings (local speech-to-text)
MOONSHINE_MODEL_ID=usefulsensors/moonshine-streaming-medium
MOONSHINE_LANGUAGE=en

# NVIDIA STT Settings (cloud speech-to-text)
NVIDIA_STT_API_KEY=  # Optional: uses NVIDIA_API_KEY if not set
NVIDIA_STT_MODEL=parakeet-1.1b-en-US-asr-streaming-silero-vad-sortformer
NVIDIA_STT_LANGUAGE_CODE=en-US

# HuggingFace LLM Settings (for local inference)
HUGGINGFACE_MODEL_ID=Qwen/Qwen2.5-3B-Instruct
HUGGINGFACE_DEVICE=cuda  # Options: cuda, cpu, or leave empty for auto-detect

# NVIDIA API Key (shared by LLM and STT unless NVIDIA_STT_API_KEY is set)
NVIDIA_API_KEY=your_nvidia_api_key_here

# NVIDIA LLM Settings (alternative provider)
NVIDIA_MODEL=meta/llama-3.1-8b-instruct

# HuggingFace Settings
HF_TOKEN=your_huggingface_token_here  # Get from: https://huggingface.co/settings/tokens

# Langfuse Tracing Settings (optional)
LANGFUSE_ENABLED=false
LANGFUSE_HOST=https://cloud.langfuse.com
LANGFUSE_BASE_URL=  # Optional alternative to LANGFUSE_HOST
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
LANGFUSE_TRACE_FINALIZE_TIMEOUT_MS=8000
LANGFUSE_MAX_PENDING_TRACE_TASKS=200
LANGFUSE_TRACE_FLUSH_TIMEOUT_MS=1000

# Common LLM Parameters
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=1024

# Pocket TTS Settings (local text-to-speech)
POCKET_TTS_VOICE=alba
POCKET_TTS_TEMPERATURE=0.7
POCKET_TTS_LSD_DECODE_STEPS=1
SAMPLE_RATE_OUTPUT=48000  # Output sample rate after resampling from Pocket native 24kHz

# LiveKit Settings
LIVEKIT_URL=wss://your-livekit-server.example.com
LIVEKIT_API_KEY=your_livekit_api_key_here
LIVEKIT_API_SECRET=your_livekit_api_secret_here
LIVEKIT_AGENT_NAME=open-voice-agent-local  # Use a unique name per environment to avoid worker collisions
LIVEKIT_NUM_IDLE_PROCESSES=2

# LiveKit Audio Input Configuration - OPTIMIZED FOR FALSE DETECTION FIX
LIVEKIT_SAMPLE_RATE=24000
LIVEKIT_NUM_CHANNELS=1
LIVEKIT_FRAME_SIZE_MS=20  # Smaller = faster VAD response, less latency
LIVEKIT_PRE_CONNECT_AUDIO=true
LIVEKIT_PRE_CONNECT_TIMEOUT=3.0

# Voice Activity Detection (VAD) Configuration - OPTIMIZED FOR FALSE DETECTION FIX
VAD_MIN_SPEECH_DURATION=0.18  # Require 180ms of speech before activation (faster turn pickup)
VAD_MIN_SILENCE_DURATION=0.30  # Require 300ms of silence before deactivation (faster turn end)
VAD_THRESHOLD=0.6  # Higher = less sensitive to noise (0.5 is default)
